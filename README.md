# Flask RESTplus Swagger relative path
This extension allows to change the relative path for Swagger assets generated by Flask RESTplus. 

## Requirements
* Python 3.6
* Flask >= 1.0.2
* Flask-RESTplus >= 0.12.1

## Motivation
* Sometimes API applications need different relative paths for Swagger assets, especially if there are many application services running on the same domain and orchestrated with NGINX.
* There is also the case that the path for swagger.json file must not include a specific scheme (https or http), so it is possible to define the path as relative to the server.

## How to use the extension
Include the extension library and initialize the Flask application. Check for this example.

```python
from flask import Flask, url_for
from flask_restplus import Resource, Api
from flask_restplus_relative_swagger import FlaskRestplusRelativeSwagger, FlaskRestplusRelativeSwaggerApi

app = Flask(__name__)

# -----------------------------------------------------------
# Api definition and Swagger definition on documentation page
# -----------------------------------------------------------
api = FlaskRestplusRelativeSwaggerApi(app)


# Option 1: overriding specs_url property for Api object
@api.set_specs_url
def overwrite_api_specs_url(self: Api):
    return url_for(self.endpoint('specs'), _external=True, _scheme='https')


# Option 2: set Swagger specs in documentation generation with no scheme
api.set_external_swagger_specs(external=False)

# Option 3: set an external URL for swagger to use as documentation
api.set_swagger_external_url(url='http://myotherdomain.com/swagger.json')


@api.route('/hello')
class HelloWorld(Resource):
    def get(self):
        return {'hello': 'world'}


# ---------------------------------------------------------
# New relative assignment (for internal documentation only)
# ---------------------------------------------------------
api_doc = FlaskRestplusRelativeSwagger()
api_doc.init_app(app=app, url='/this_is_a_new/path_for_swagger_internal_documentation/')

if __name__ == '__main__':
    app.run(debug=True)
```

With the previous example, the path for **swagger-ui-bundle.js** is: 

```
http://localhost:5000/this_is_a_new/path_for_swagger/swaggerui/swagger-ui-bundle.js

 instead of

http://localhost:5000/swaggerui/swagger-ui-bundle.js
``` 

To run the prior example, use the following command:
```bash
FLASK_APP=tests/test_application.py FLASK_ENV=development FLASK_DEBUG=1 flask run
```